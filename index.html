<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FootballGuru</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Welcome to FootballGuru</h1>
    <p>Predict match results for fun and climb the leaderboard!</p>

    <!-- Name gate -->
    <div id="gate">
        <p>Please enter your name to continue.</p>
        <input id="gate-name" type="text" placeholder="Your name" />
        <button id="gate-continue">Continue</button>
    </div>

    <!-- App content (hidden until after name) -->
    <div id="app" style="display:none;">
        <div id="me"></div>
        <button id="switch-user">Switch user</button>
        <div id="admin-dashboard" style="display:none;">
            <h2>Admin Dashboard</h2>
              
            <!-- Admin login/logout UI -->
            <div id="admin-auth">
                <h3>Admin Sign-in</h3>
                <input id="admin-email" type="email" placeholder="Admin email" />
                <input id="admin-pass" type="password" placeholder="Password" />
                <button id="admin-login">Login</button>
                <button id="admin-logout" style="display:none;">Logout</button>
                <p id="admin-auth-status"></p>
            </div>
            <!-- Add players -->
            <div id="admin-players" style="display:none; margin-top:12px;">
                <h3>Players</h3>
                <input id="player-name" type="text" placeholder="Player full name" />
                <button id="add-player">Add Player</button>
                <p id="player-msg"></p>
                <ul id="player-list"></ul>
            </div>
    
            <p>Use this area to manage matches, enter results, or view user activity.</p>
            <button id="toggle-results">Enter Results Mode</button>
        </div>
    
        <div id="user-dashboard" style="display:none;">
            <h2>My Dashboard</h2>
            <div id="predictions"></div>
            <div id="leaderboard"></div>
        </div>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
      import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
    
      const firebaseConfig = {
        apiKey: "AIzaSyBN6wPHpan0FqzQdcg-qg7ckWDo0BNZ5fk",
        authDomain: "footballguru-59db8.firebaseapp.com",
        projectId: "footballguru-59db8",
        storageBucket: "footballguru-59db8.firebasestorage.app",
        messagingSenderId: "881770920823",
        appId: "1:881770920823:web:87864f0bd2d65ab9caff72"
      };
    
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);
    
      // Anonymous sign-in + expose handles
      signInAnonymously(auth).catch(console.error);
      onAuthStateChanged(auth, (user) => { window._fb = { app, auth, db, user }; });
    </script>

  <script type="module" src="script.js?v=4"></script>
</body>

</html>
